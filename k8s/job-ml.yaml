apiVersion: batch/v1
kind: Job
metadata:
  name: tp2-ml-job
  namespace: tassioalmeida
spec:
  template:
    spec:
      containers:
        - name: tp2-ml
          image: tassiolucas/tp2-ml:0.4
          command: ["python3", "/app/train_model.py"]
          volumeMounts:
            - name: spotify-dataset
              mountPath: /home/datasets/spotify
            - name: shared-data
              mountPath: /data
      volumes:
        - name: spotify-dataset
          hostPath:
            path: /home/datasets/spotify  # Caminho da VM (host)
            type: Directory
        - name: shared-data
          persistentVolumeClaim:
            claimName: project2-pvc-tassioalmeida
      restartPolicy: Never
